{% extends 'Admin_header.html' %}
{% block addr %}Leave{% endblock addr %}
{% block user %}Welcome, {{request.session.name}}{% endblock user %}
{% block style %}
<title>WFM :: ADMIN ADD USER</title>
<link rel="stylesheet" href="../static/css/dataTables.bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.0.1/css/buttons.dataTables.min.css">
<style>
    .dataTables_wrapper .row:nth-child(2) {
        width: 100%;
    }
    .hidden_td{
        display:none
    }

    .dataTables_length label,
    .dataTables_filter label {
        display: flex;
    }

    .nav-item {
        width: 100%;
        max-width: 95px;
        text-align: center;
    }

    .nav-link {
        background: #e2e2e2;
        border-radius: 10px !important;
        border-bottom: 5px solid #ccc;
    }

    .notes {
        min-width: 410px;
        width: 100%;
        white-space: pre-line;
        word-break: break-word;
        text-align: center;
    }

    .top-nav-search .btn {
        top: 12%
    }

    .table-responsive {
        display: block;
        /* width: 100%; */
        width: unset;
        overflow-x: auto;
        height: 375px;
    }


    .leaveReportHeight,
    div#pills-payrollReport #pills-contactReport {
        height: 430px;
    }

    @media only screen and (max-width: 1024px) {
        .table-responsive.officialTableReport {
            max-height: 665px;
        }
    }
</style>
<style>
    .red {
        color: red;
        font-weight: 700;
    }

    .green {
        color: green;
        font-weight: 700;
    }

    .black {
        color: #333;
        font-weight: 700;
    }

    .top-nav-search .btn {
        top: 12%
    }

    .modalHeight {
        height: 400px;
    }

    a.adminaddUserColor {
        background: #09796b;
        color: #fff !important;
    }

    a.adminaddUserColor:hover {
        background: #09796b;
        color: #fff !important;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow b {
        border-color: #525252 transparent transparent;
        border-width: 6px 6px 0 6px;
    }

    .select2-container--default .select2-results__option--highlighted[aria-selected] {
        background-color: #09796b;
    }

    .select2-container--default .select2-selection--single {
        border-color: #e3e3e3;
        box-shadow: none;
        font-size: 15px;
        height: 35px;
        /*outline: 1px solid #767676;*/
    }

    .form-control {
        height: 33px;
    }

    .color-change::placeholder {
        color: #09697b;
        font-style: italic;
    }

    .select2-container--default .select2-selection--single .select2-selection__arrow {
        top: 5px !important;
        right: 5px !important;
    }

    #empAddNew {
        border-bottom: none !important;
        height: 33px;
        font-size: 13px;
        position: relative;
        right: 10px;
    }
</style>
<style>
    .activation:hover {
        color: #fff !important;
        border-color: #09796b !important;
    }

    .top-nav-search .btn {
        top: 12%
    }

    .empHRTableCustom tbody+tbody {
        border-top: 1px solid #dee2e6;
    }

    input#empDesignation:focus-visible {
        outline: none;
    }

    .select2-container--default .select2-results__option--highlighted[aria-selected] {
        background-color: #09796b !important;
        color: white;
    }

    span.select2.select2-container.select2-container--default {
        line-height: 1.5;
        border: 1px solid #767676;
        border-radius: 0.25rem;
        transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
        width: 100% !important;
        background-color: #fff;
        display: -webkit-box;
    }

    .select2-container--default .select2-selection--single {
        border: unset;
        width: 100%;
    }

    span.text-danger {
        display: flex;
    }

    .iconAndLabel {
        display: flex;
    }

    .employee-office-table .table input {
        width: 100%;
    }

    .rowsWidth {
        margin-left: unset;
        margin-right: unset;
    }

    .form-control2 {
        padding: 0 10px;
    }

    .DivFlexBox {
        display: flex;
        flex-direction: column;
        align-items: start;
    }

    #plusAdd {
        padding: 0 6px;
    }

    label.modalLabelText {
        font-weight: bold;
        /* padding: 10px 0px; */
        text-align: left;
        float: left;
    }

    .thcolor:hover {
        background-color: white !important;
    }

    .tdcolor:hover {
        background-color: rgb(219, 214, 214) !important;
    }


    /* @media only screen and (max-width: 980px) {
        tr.FlexDisplay {
            display: flex;
        }

        .FlexDisplay td {
            margin: auto;
            width: 160px !important;
        }
    } */

    


    #fmsettings {
        white-space: nowrap;
        /* height: 345px; */
    }

    .firsttop {
        padding: 0.8rem;
    }

    .card-header {
        background: none;
        padding: 0.7rem;
        border-bottom: 1px solid #ededed;
    }

    .card-title {
        color: #333;
        position: relative;
        left: 10px;
    }

    .pageinationAdj {
        position: relative;
        top: 0px;
    }
    @media only screen and (max-width: 1199px){
        .card-title.mb-0.d-inline-block {
            font-size: 18px;
            font-weight: 600;
        }
        label, .thcolor, #myTable1_info {
            font-size: 13px;
        }
        .form-control {
            height: 30px;
            font-size: 12px;
        }
        .tdcolor.odd, .tdcolor.even, .pagination {
            font-size: 12px;
        }
        .modal-content {
            position: relative;
            width: 80%;
            left: 10%;
        }
    }
    @media only screen and (max-width: 991px){
        #showsidebar,
        #fullscreen {
            display: none;
        }
        .card.ctm-border-radius.shadow-sm {
            position: relative;
            top: 30px;
        }
        .card {
            border: 1px solid #ededed;
            margin-bottom: 13px;
            border-radius: 10px;
        }
        .lowerfooter {
            position: relative;
            top: 25px;
            margin-bottom: 35px !important;
        }
    }
    @media only screen and (max-width: 767px){
        .pageinationAdj {
             display: flow-root;
        }
        .modal-content {
            position: relative;
            width: 98%;
            left: 1%;
        }
        .FlexDisplay {
            display: block;
        }
    }
    @media only screen and (max-width: 575px){
        .FlexDisplay {
            display: grid !important;
        }
    }
    @media only screen and (max-width: 461px){
        .pageinationAdj {
            display: inline-block;
        }
    }
</style>
<script src="../static/js/jquery-3.5.1.min.js"></script>
{% endblock style %}
{% block body %}
<div class="col-xl-9 col-lg-8  col-md-12 adminuser">
    <div class="quicklink-sidebar-menu ctm-border-radius shadow-sm grow bg-white card">
        <!-- hr, manager -->
        <div class="card-body align-center firsttop">
            <ul class="nav flex-row nav-pills" role="tablist">
                <li class="nav-item mr-2">
                    <a class="nav-link active mb-2" data-toggle="pill" href="#pills-teamReport" role="tab"
                        aria-controls="pills-home" aria-selected="true">HR</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" name="leave_report" data-toggle="pill" href="#pills-leaveReport" role="tab"
                        aria-controls="pills-profile" aria-selected="false">Manager</a>
                </li>
            </ul>
        </div>
        <!-- End Here -->
    </div>

    <div class="card-body align-center" style="padding: unset;">
        <div class="tab-content">
            <!-- HR Section -->
            <div class="tab-pane fade show active" id="pills-teamReport" role="tabpanel"
                aria-labelledby="pills-home-tab">
                <div class="col-md-12" style="padding: unset;">
                    <div class="card ctm-border-radius shadow-sm grow">
                        <div class="card-header d-flex align-items-center justify-content-between">
                            <h4 class="card-title mb-0 d-inline-block">List Of HRs</h4>
                            <div class="card-title mb-0 successMessageCard" id="successMsg">{{message}}</div>

                            <a href="javascript:void(0)" id="empAddNew"
                                class="btn btn-theme button-1 ctm-border-radius text-white float-right"
                                data-toggle="modal" data-target="#add_hr"><span><i class="fa fa-plus"></i></span>
                                Add HR</a>
                        </div>
                        <div class="card-body">
                            <div class="row pageinationAdj">
                                <div class="col-md-6 data_drop1"></div>
                                <div class="col-md-6 data_search1"></div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <form method="post">
                                        {%csrf_token%}
                                        <div class="employee-office-table paginate-table1">
                                            <div class="table-responsive HRempListHeight" id="fmsettings">
                                                <table class="table custom-table empHRTableCustom" id="myTable1">
                                                    <thead style="position: sticky;
                                                    top: 0;
                                                    z-index: 1;">
                                                        <tr class="thcolor">
                                                            <th>HR Name</th>
                                                            <th>ID</th>
                                                            <th>Email</th>
                                                            <th>Designation</th>
                                                            <th>Start Date</th>
                                                            <th>Action</th>
                                                            <th>Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for hrs in hr %}
                                                        <tr class="tdcolor">
                                                            <td>{{hrs.f_name}} {{hrs.l_name}}</td>
                                                            <td>{{hrs.login_id}}</td>
                                                            <td>{{hrs.email}}</td>
                                                            <td>HR</td>
                                                            <td>{{hrs.doj}}</td>
                                                            <td>
                                                                <div class="table-action">
                                                                    <button class="btn btn-sm btn-outline-success"
                                                                        name="Admin_Edit_Hr" value="{{hrs.login_id}}">
                                                                        <span class="lnr lnr-pencil"></span>&nbsp;Edit
                                                                    </button>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="table-action">
                                                                    <button
                                                                        class="btn btn-sm btn-outline-success activation"
                                                                        name="activation" value="{{hrs.login_id}}">
                                                                        {{hrs.activation}}
                                                                    </button>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Manager Section -->
            <div class="tab-pane fade" id="pills-leaveReport" role="tabpanel" aria-labelledby="pills-home-tab">
                <div class="col-md-12" style="padding: unset;">
                    <form method="post">
                        {%csrf_token%}
                        <div class="card ctm-border-radius shadow-sm grow">
                            <div class="card-header d-flex align-items-center justify-content-between">
                                <h4 class="card-title mb-0 d-inline-block">List Of Managers</h4>
                                <div class="card-title mb-0 successMessageCard" id="successMsg">{{message}}</div>

                                <a href="javascript:void(0)" id="empAddNew"
                                    class="btn btn-theme button-1 ctm-border-radius text-white float-right"
                                    data-toggle="modal" data-target="#add_manager"><span><i
                                            class="fa fa-plus"></i></span>
                                    Add Manager</a>
                            </div>
                            <div class="card-body">
                                <div class="row pageinationAdj">
                                    <div class="col-md-6 data_drop2"></div>
                                    <div class="col-md-6 data_search2"></div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="employee-office-table paginate-table2">
                                            <div class="table-responsive HRempListHeight">
                                                <table class="table custom-table empHRTableCustom" id="myTable2">
                                                    <thead style="position: sticky; top: 0; z-index: 1;">
                                                        <tr class="thcolor">
                                                            <th>Manager Name</th>
                                                            <th>ID</th>
                                                            <th>Email</th>
                                                            <th>Designation</th>
                                                            <th>Start Date</th>
                                                            <th>Action</th>
                                                            <th>Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        {% for managers in manager %}
                                                        <tr class="tdcolor">
                                                            <td>{{managers.f_name}} {{managers.l_name}}</td>
                                                            <td>{{managers.login_id}}</td>
                                                            <td>{{managers.email}}</td>
                                                            <td>{{managers.designations}}</td>
                                                            <td>{{managers.doj}}</td>
                                                            <td>
                                                                <div class="table-action">
                                                                    <button class="btn btn-sm btn-outline-success"
                                                                        name="Admin_Edit_Manager"
                                                                        value="{{managers.login_id}}">
                                                                        <span class="lnr lnr-pencil"></span>&nbsp;Edit
                                                                    </button>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="table-action">
                                                                    <button
                                                                        class="btn btn-sm btn-outline-success activation"
                                                                        name="activation" value="{{managers.login_id}}">
                                                                        {{managers.activation}}
                                                                    </button>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="add_manager" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 1125px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Manager Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form method="post">
                {% csrf_token %}
                <div class="modal-body">
                    <div class="employee-office-table" style="box-shadow: none;">
                        <div class="table-responsive1">
                            <table class="table custom-table">
                                <tbody>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="fname" class="modalLabelText">FirstName *</label>
                                            <input type="text" id="fname" name="fname" placeholder="First Name.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="firstName"></span>
                                        </td>
                                        <td>
                                            <label for="lname" class="modalLabelText">LastName </label>
                                            <input type="text" id="lname" name="lname" placeholder="Last Name.."
                                                class="form-control2">
                                            <span class="text-danger" id="LastName"></span>
                                        </td>
                                        <td>
                                            <label for="uname" class="modalLabelText">UserName *</label>
                                            <input type="text" id="uname" name="uname" placeholder="UserName.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="userName"></span>
                                        </td>
                                        <td>
                                            <label for="pwd" class="modalLabelText">Password *</label>
                                            <input type="text" id="pwd" name="pwd" placeholder="Password.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="passwd"></span>
                                        </td>
                                        <td>
                                            <label for="manager_type" class="modalLabelText">Manager Type *</label>
                                            <select name="manager_type" id="manager_type" class="form-control2" required>
                                                
                                                <option value="2">Client Manager</option>
                                                <option value="5">Office Manager</option>
                                                
                                            </select>
                                        </td>
                                        

                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="email" class="modalLabelText">Email-ID *</label>
                                            <input type="mail" id="mailID" name="mailId" placeholder="Email.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="emailID"></span>
                                        </td>
                                        <td>
                                            <label for="dob" class="modalLabelText">Date of Birth *</label>
                                            <input type="date" id="birthDate" name="DOB" placeholder="Date of Birth"
                                                class="form-control2 select2" required>
                                            <span class="text-danger" id="dateofBirth"></span>
                                        </td>
                                        <td>
                                            <label for="gender" class="modalLabelText">Gender *</label>
                                            <select name="gender" class="form-control2" required>
                                                <option value="0">--select--</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                            </select>
                                            <span class="text-danger" id="gender"></span>
                                        </td>
                                        <td>
                                            <label for="contact" class="modalLabelText">Contact *</label>
                                            <input type="tel" id="contactNo" name="phoneNo" placeholder="Contact.."
                                                class="form-control2" maxlength="10" required>
                                            <span class="text-danger" id="phoneNo"></span>
                                        </td>
                                        <td>
                                            <label for="altContact" class="modalLabelText">Alternate Contact</label>
                                            <input type="tel" id="altContact" name="AltPhoneNo"
                                                placeholder="Alternate Contact.." class="form-control2" maxlength="10">
                                            <span class="text-danger" id="altPhone"></span>
                                        </td>
                                        
                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td class="designationshowhide">
                                            <div class="iconAndLabel">
                                                <label for="designation" class="modalLabelText">Designation</label>
                                                <span id="plusAdd"><img id="AddPlus" style="cursor: pointer;"
                                                        class="plusImg" src="../static/img/addPlus.png" alt=""></span>
                                            </div>
                                            <input list="addEmployeeDesignation" value="" name="designation"
                                                id="empDesignation" class="form-control2">
                                            <datalist id="addEmployeeDesignation">
                                                {% for designations in designation %}
                                                <option value="{{designations.designation}}">
                                                    {{designations.designation}}</option>
                                                {%endfor%}
                                            </datalist>
                                            <span class="text-danger" id="emp_insert"></span>
                                            <span id="DesignationAdd" class="text-success"
                                                style="display: flex;"></span>
                                        </td>
                                        <td>
                                            <label for="doj" class="modalLabelText">Date of Joining *</label>
                                            <input type="date" id="joiningDate" name="DOJ" placeholder="Date of Joining"
                                                class="form-control2 select2" required>
                                            <span class="text-danger" id="dateJoin"></span>
                                        </td>
                                        <td>
                                            <label for="salary" class="modalLabelText">Salary *</label>
                                            <input type="text" id="empSalary" name="salary" placeholder="Salary.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="salary"></span>
                                        </td>
                                        <td>
                                            <label for="bank_name" class="modalLabelText">Bank Name *</label>
                                            <input type="text" id="bank_name" name="bankName" placeholder="Bank Name.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="bankName"></span>
                                        </td>
                                        <td>
                                            <label for="acct_no" class="modalLabelText">Account No. *</label>
                                            <input type="number" id="acct_No" name="acctNo" placeholder="Account No.."
                                                class="form-control2" maxlength="16" required>
                                            <span class="text-danger" id="acctNo"></span>
                                        </td>
                                        

                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="ifsc_code" class="modalLabelText">IFSC Code *</label>
                                            <input type="text" id="ifsc_code" name="ifsc_code" placeholder="IFSC Code.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="ifscCode"></span>
                                        </td>
                                        <td>
                                            <label for="branch" class="modalLabelText">Branch *</label>
                                            <input type="text" id="empBranch" name="branch" placeholder="Branch.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="branchName"></span>
                                        </td>
                                        <td>
                                            <label for="HR" class="modalLabelText">HR *</label>
                                            <select name="HR" class="form-control2 select2" id="empHR" required>
                                                <option value="0">--select--</option>
                                                {% for i in hr %}
                                                <option value="{{i.login_id}}">{{i.f_name}}</option>
                                                {% endfor %}
                                            </select>
                                            <span class="text-danger" id="HRName"></span>
                                        </td>
                                        <!-- <td style="width: 200px;">
                                        <label for="current_project" class="modalLabelText">Current
                                            Project *</label>
                                        <select name="CurrProject" id="currProject" class="form-control2 select2"
                                            required>
                                            <option value="0">--select--</option>
                                        </select>
                                        <span class="text-danger" id="currentProject"></span>
                                    </td> -->
                                        <td>
                                            <label for="sick_leave" class="modalLabelText">Sick Leave</label>
                                            <input type="text" id="sickLeave" name="sickLeaves" placeholder="Branch.."
                                                class="form-control2" value="2">
                                        </td>
                                        <td>
                                            <label for="paid_leave" class="modalLabelText">Paid
                                                Leave</label>
                                            <input type="text" id="otherLeave" name="OtherLeaves" placeholder="Leaves"
                                                class="form-control2" value="5">
                                        </td>
                                        

                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="work_location" class="modalLabelText">Work Location</label>
                                            <select name="work_location" class="form-control2 select2" id="work_location" required>
                                                <option value="US">USA</option>
                                               
                                                <option value="IN">INDIA</option>
                                               
                                            </select>
                                        </td>
                                        <td id="office_manager_select" >
                                            <label for="office_manager" class="modalLabelText">Office Manager</label>
                                            <select name="office_manager" id="office_manager" class="form-control2 select2" required>
                                                {% for i in office_manager %}
                                                <option value="{{i.id}}">{{i.f_name}} {{i.l_name}}</option>
                                               {% endfor %}
                                            </select>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            
                            <script>
                                // Get references to the select elements
                                const managerTypeSelect = document.getElementById('manager_type');
                                const officeManagerSelect = document.getElementById('office_manager_select');
                                console.log('start')
                                // Add event listener to the manager type select
                                managerTypeSelect.addEventListener('change', function() {
                                    // Check the selected value
                                    console.log(this.value)
                                    if (this.value === 'office_manager') {
                                       console.log('show')
                                        // If office manager is selected, show the office manager select
                                        officeManagerSelect.classList.add('hidden_td');
                                       
                                    } else {
                                        console.log('hide')
                                        // If client manager or any other option is selected, hide the office manager select
                                        officeManagerSelect.classList.remove('hidden_td');
                                    }
                                });
                            </script>
                            <div class="row rowsWidth mb-3">
                                <div class="col">
                                    <div class="flexBox">
                                        <label for="addr" class="modalLabelText">Address</label>
                                        <textarea style="height: 50px;" name="Address" class="form-control2"
                                            id="empAddr" cols="5"></textarea>
                                        <span class="text-danger" id="addr"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <button name="add_mngr" id="add_mngr"
                            class="btn btn-theme button-1 text-white ctm-border-radius mt-4 ApproveText"
                            value="Approve">Add</button>
                        <button name="cancel_mngr" class="btn btn-danger text-white ctm-border-radius mt-4 DenyText"
                            type="submit" value="Deny" data-dismiss="modal" aria-label="Close">Cancel</button>
                    </div>
                    <!--  -->
                </div>
            </form>
        </div>
    </div>
</div>
</div>
<div id="add_hr" class="modal fade" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 1125px;">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">HR Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>


            <form method="post">
                {% csrf_token %}
                <div class="modal-body">
                    <div class="employee-office-table" style="box-shadow: none;">
                        <div class="table-responsive1">
                            <table class="table custom-table ">
                                <tbody>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="fname" class="modalLabelText">FirstName *</label>
                                            <input type="text" id="fname" name="fname" placeholder="First Name.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="firstName"></span>
                                        </td>
                                        <td>
                                            <label for="lname" class="modalLabelText">LastName</label>
                                            <input type="text" id="lname" name="lname" placeholder="Last Name.."
                                                class="form-control2">
                                            <span class="text-danger" id="LastName"></span>
                                        </td>
                                        <td>
                                            <label for="uname" class="modalLabelText">UserName *</label>
                                            <input type="text" id="uname" name="uname" placeholder="UserName.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="userName"></span>
                                        </td>
                                        <td>
                                            <label for="pwd" class="modalLabelText">Password *</label>
                                            <input type="text" id="pwd" name="pwd" placeholder="Password.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="passwd"></span>
                                        </td>
                                        <td>
                                            <label for="email" class="modalLabelText">Email-ID *</label>
                                            <input type="mail" id="mailID" name="mailId" placeholder="Email.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="emailID"></span>
                                        </td>

                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="dob" class="modalLabelText">Date of Birth *</label>
                                            <input type="date" id="birthDate" name="DOB" placeholder="Date of Birth"
                                                class="form-control2 select2" required>
                                            <span class="text-danger" id="dateofBirth"></span>
                                        </td>
                                        <td>
                                            <label for="gender" class="modalLabelText">Gender *</label>
                                            <select name="gender" class="form-control2" id="empGender" required>
                                                <option value="0">--select--</option>
                                                <option value="male">Male</option>
                                                <option value="female">Female</option>
                                            </select>
                                            <span class="text-danger" id="gender"></span>
                                        </td>
                                        <td>
                                            <label for="contact" type="number" class="modalLabelText">Contact *</label>
                                            <input type="number" id="contactNo" name="phoneNo" placeholder="Contact.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="phoneNo"></span>
                                        </td>
                                        <td>
                                            <label for="altContact" class="modalLabelText">Alternate Contact</label>
                                            <input type="number" id="altContact" name="AltPhoneNo"
                                                placeholder="Alternate Contact.." class="form-control2">
                                            <span class="text-danger" id="altPhone"></span>
                                        </td>
                                        <td class="designationshowhide">
                                            <div class="iconAndLabel">
                                                <label for="designation" class="modalLabelText">Designation</label>
                                                <span id="plusAdd"><img id="AddPlus" style="cursor: pointer;"
                                                        class="plusImg" src="../static/img/addPlus.png" alt=""></span>
                                            </div>
                                            <input list="addEmployeeDesignation" value="" name="designation"
                                                id="empDesignation" class="form-control2">
                                            <datalist id="addEmployeeDesignation">
                                                {% for designations in designation %}
                                                <option value="{{designations.designation}}">
                                                    {{designations.designation}}</option>
                                                {%endfor%}
                                            </datalist>
                                            <span class="text-danger" id="emp_insert"></span>
                                            <span id="DesignationAdd" class="text-success"
                                                style="display: flex;"></span>
                                        </td>
                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="doj" class="modalLabelText">Date of Joining *</label>
                                            <input type="date" id="joiningDate" name="DOJ" placeholder="Date of Joining"
                                                class="form-control2 select2" required>
                                            <span class="text-danger" id="dateJoin"></span>
                                        </td>
                                        <td>
                                            <label for="salary" class="modalLabelText">Salary *</label>
                                            <input type="number" id="empSalary" name="salary" placeholder="Salary.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="salary"></span>
                                        </td>
                                        <td>
                                            <label for="bank_name" class="modalLabelText">Bank Name *</label>
                                            <input type="text" id="bank_name" name="bankName" placeholder="Bank Name.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="bankName"></span>
                                        </td>
                                        <td>
                                            <label for="acct_no" class="modalLabelText">Account No. *</label>
                                            <input type="" id="acct_No" name="acctNo" placeholder="Account No.."
                                                class="form-control2" maxlength="16" required>
                                            <span class="text-danger" id="acctNo"></span>
                                        </td>
                                        <td>
                                            <label for="ifsc_code" class="modalLabelText">IFSC Code *</label>
                                            <input type="text" id="ifsc_code" name="ifsc_code" placeholder="IFSC Code.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="ifscCode"></span>
                                        </td>

                                    </tr>
                                    <tr class="FlexDisplay">
                                        <td>
                                            <label for="branch" class="modalLabelText">Branch *</label>
                                            <input type="text" id="empBranch" name="branch" placeholder="Branch.."
                                                class="form-control2" required>
                                            <span class="text-danger" id="branchName"></span>
                                        </td>
                                        <td>
                                            <label for="sick_leave" class="modalLabelText">Sick Leave</label>
                                            <input type="text" id="sickLeave" name="sickLeaves" placeholder="Branch.."
                                                class="form-control2" value="2">
                                        </td>
                                        <td>
                                            <label for="paid_leave" class="modalLabelText">Paid
                                                Leave</label>
                                            <input type="text" id="otherLeave" name="OtherLeaves"
                                                placeholder="Current Project" class="form-control2" value="5">
                                        </td>
                                        <td>
                                            <label for="work_location" class="modalLabelText">Work Location</label>
                                            <select name="work_location" class="form-control2 select2" id="work_location" required>
                                                <option value="US">USA</option>
                                               
                                                <option value="IN">INDIA</option>
                                               
                                            </select>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                            <div class="row rowsWidth mb-3">
                                <div class="col">
                                    <div class="flexBox">
                                        <label for="addr" class="modalLabelText">Address * </label>
                                        <textarea style="height: 50px;" name="Address" class="form-control2"
                                            id="empAddr" cols="5" required></textarea>
                                        <span class="text-danger" id="addr"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
            </form>
            <div class="text-center">
                <button name="add_hr" id="add_emp"
                    class="btn btn-theme button-1 text-white ctm-border-radius ApproveText" value="Approve">Add</button>
                <button name="cancel_emp" class="btn btn-danger text-white ctm-border-radius DenyText" type="submit"
                    value="Deny" data-dismiss="modal" aria-label="Close">Cancel</button>
            </div>

        </div>
    </div>
</div>

<script>
    $("#fromDate, #toDate").on('change', function () {
        // alert("dghgd");
        var dateI1 = document.getElementById("fromDate").value;
        var dateI2 = document.getElementById("toDate").value;
        var date1 = new Date(dateI1);
        var date2 = new Date(dateI2);
        const oneDay = 1000 * 60 * 60 * 24;
        const time_difference = date2.getTime() - date1.getTime();

        var result = Math.round(time_difference / oneDay) + weight;
        if (date1 > date2 && date2 < date1) {
            document.getElementById("LeaveDay").value = '0';
            document.getElementById("endDate1").innerHTML = "End date should be greater";
            $("#endDate1").show();
            return false;
        }
        if (date2 >= date1) {
            $("#endDate1").hide();
            document.getElementById("LeaveDay").value = result;
        }
        if ('0' === $("#HalfData option:selected").val()) {
            document.getElementById("LeaveDay").value = '0';
        }
    });
</script>
<script>
    $(document).ready(function () {

        $("#applybtn").click(function () {

            var start_date = document.getElementById('fromDate');
            var end_date = document.getElementById('toDate');
            if ('0' === $('#leaveList').val() || !start_date.value || !end_date.value || '0' === $('#HalfData').val() || $("#reasonArea").val() == '') {
                document.getElementById("leaveMsg").innerHTML = "please select value from Dropdown";
                document.getElementById('startDate').innerHTML = "Please select start date";
                document.getElementById('endDate').innerHTML = "Please select end date";
                document.getElementById('halfData').innerHTML = "Please select day";
                document.getElementById('reason').innerHTML = "Please type reason for leave";
                return false;
            }

            var dateI1 = document.getElementById("fromDate").value;
            var dateI2 = document.getElementById("toDate").value;
            var date1 = new Date(dateI1);
            var date2 = new Date(dateI2);

            const oneDay = 1000 * 60 * 60 * 24;
            const time_difference = date2.getTime() - date1.getTime();

            var result = Math.round(time_difference / oneDay) + weight;
            if (date1 > date2 && date2 < date1) {
                document.getElementById("LeaveDay").value = '0';
                document.getElementById("endDate1").innerHTML = "End date should be greater";
                $("#endDate1").show();
                return false;
            }
            if (date2 >= date1) {
                document.getElementById("LeaveDay").value = result;
                $("#endDate1").hide();
            }
            if ('0' === $("#HalfData option:selected").val()) {
                $("#halfData1").show();
                alert("please select day");
                document.getElementById("LeaveDay").value = '0';
                return false;
            }
        });
        $("#reasonArea").keypress(function () {
            $('#reason').hide();
        });
        $("#leaveList, #HalfData").change(function () {
            if ('0' != $('#leaveList').val()) {
                $("#leaveMsg").hide();
            }
            if ('0' != $('#HalfData').val()) {
                $("#halfData").hide();
            }
        });
        $("#fromDate, #toDate").change(function () {
            var start_date = document.getElementById('fromDate');
            var end_date = document.getElementById('toDate');
            if (start_date.value) {
                $("#startDate").hide();
            }
            if (end_date.value) {
                $("#endDate").hide();
            }
        });
    });
</script>

<script>
    $(document).ready(function () {
        $("#leaveList").change(function () {
            var e = document.getElementById("leaveList");
            var selectedItem = e.options[e.selectedIndex].value;
            if (selectedItem == "0") {
                document.getElementById('remianLeave').value = 'SL {{remaining_leaves.sick_day}}/PL {{remaining_leaves.days_allowed}}';
            }
            if (selectedItem == 'Sick Leave') {
                document.getElementById('remianLeave').value = 'SL {{remaining_leaves.sick_day}}';
            }
            if (selectedItem == 'Parental Leave') {
                document.getElementById('remianLeave').value = 'PL {{remaining_leaves.days_allowed}}';
            }
            if (selectedItem == 'Annual Leave') {
                document.getElementById('remianLeave').value = 'PL {{remaining_leaves.days_allowed}}';
            }
            if (selectedItem == 'Normal Leave') {
                document.getElementById('remianLeave').value = 'PL {{remaining_leaves.days_allowed}}';
            }
            if (selectedItem == 'Working From Home') {
                document.getElementById('remianLeave').value = 'PL {{remaining_leaves.days_allowed}}';
            }
        });
    });
</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
<script language="javascript">
    var today = new Date();
    var dd = String(today.getDate()).padStart(2, '0');
    var mm = String(today.getMonth() + 1).padStart(2, '0');
    var yyyy = today.getFullYear();

    today = yyyy + '-' + mm + '-' + dd;
    $('#fromDate').attr('min', today);
    $('#toDate').attr('min', today);
</script>
{% block paginate %}
<script src="../static/js/jquery.dataTables.min.js"></script>
<script src="../static/js/dataTables.bootstrap.min.js"></script>
{% endblock paginate %}
<script>
    $(document).ready(function () {
        $("#myTable1").DataTable({
            "lengthMenu": [50, 100, 150, 200],
            "pageLength": 50,
            lengthChange: true,
            info: true,
            initComplete: (settings, json) => {
                $('#myTable1_paginate, #myTable1_info').appendTo('.paginate-table1');
                $('#myTable1_length').appendTo('.data_drop1');
                $('#myTable1_filter').appendTo('.data_search1');
            },
        });
        $("#myTable2").DataTable({
            "lengthMenu": [50, 100, 150, 200],
            "pageLength": 50,
            lengthChange: true,
            info: true,
            initComplete: (settings, json) => {
                $('#myTable2_paginate, #myTable2_info').appendTo('.paginate-table2');
                $('#myTable2_length').appendTo('.data_drop2');
                $('#myTable2_filter').appendTo('.data_search2');
            },
        });
    });
</script>
<script>
    $(document).ready(function () {
        // $("vj1").hide();
        $("#fullscreen").click(function () {
            $("#sidebarid").hide();
            $(".adminuser").css({ "max-width": "100%", "flex": "0 0 100%" });
            $(this).hide();
            $("#showsidebar").show();
        });
    });
</script>

<script>
    $(document).ready(function () {
        $("#showsidebar").hide();
        $("#showsidebar").click(function () {
            $("#sidebarid").show();
            if($(window).width() > 991 && $(window).width() < 1200){
                $(".adminuser").css({ "max-width": "66%", "flex": "0 0 66%" });
            }
            else{
                $(".adminuser").css({ "max-width": "75%", "flex": "0 0 75%" });
            }
            $(this).hide();
            $("#fullscreen").show();
        });
    });
</script>

{% endblock body %}